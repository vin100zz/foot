<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>V√©rification Finale</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; max-width: 1200px; margin: 0 auto; }
        .check-item { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #ddd; }
        .check-item.ok { border-left-color: #4caf50; }
        .check-item.warn { border-left-color: #ff9800; }
        .check-item.error { border-left-color: #f44336; }
        .status { font-weight: bold; font-size: 18px; }
        .ok .status { color: #4caf50; }
        .warn .status { color: #ff9800; }
        .error .status { color: #f44336; }
        h1 { color: #333; border-bottom: 2px solid #3b82f6; padding-bottom: 10px; }
        .details { font-size: 12px; color: #666; margin-top: 5px; }
    </style>
</head>
<body>
    <h1>‚úÖ V√©rification de Configuration</h1>
    <div id="checks"></div>

    <script src="./config.js"></script>
    <script>
        const checksDiv = document.getElementById('checks');

        function addCheck(title, status, details) {
            const div = document.createElement('div');
            const statusClass = status === 'ok' ? 'ok' : (status === 'warn' ? 'warn' : 'error');
            const statusIcon = status === 'ok' ? '‚úì' : (status === 'warn' ? '‚ö†Ô∏è' : '‚ùå');

            div.className = 'check-item ' + statusClass;
            div.innerHTML = `
                <div class="status">${statusIcon} ${title}</div>
                <div class="details">${details}</div>
            `;
            checksDiv.appendChild(div);
        }

        // V√©rifier COMPETITIONS
        if (typeof COMPETITIONS === 'undefined') {
            addCheck('COMPETITIONS', 'error', 'Pas d√©fini');
        } else {
            addCheck('COMPETITIONS', 'ok', `Objet charg√© avec ${Object.keys(COMPETITIONS).length} comp√©titions`);

            // V√©rifier chaque comp√©tition
            Object.keys(COMPETITIONS).forEach(compId => {
                const comp = COMPETITIONS[compId];
                const teamsCount = comp.teams ? comp.teams.length : 0;
                const status = teamsCount === 8 ? 'ok' : 'error';
                const details = `${comp.name} (${comp.country}) - ${teamsCount} √©quipes`;
                addCheck(`Comp√©tition: ${compId}`, status, details);

                // V√©rifier que chaque √©quipe a les bons champs
                if (comp.teams && comp.teams.length === 8) {
                    comp.teams.forEach((team, idx) => {
                        if (!team.id || !team.name || !team.kit || !team.kit.bg) {
                            addCheck(`  √âquipe ${idx+1}`, 'error', `Donn√©es manquantes pour ${team.name}`);
                        }
                    });
                }
            });
        }

        // V√©rifier TEAMS_CONFIG
        if (typeof TEAMS_CONFIG === 'undefined') {
            addCheck('TEAMS_CONFIG', 'error', 'Pas d√©fini');
        } else {
            const status = TEAMS_CONFIG.length === 8 ? 'ok' : 'error';
            addCheck('TEAMS_CONFIG', status, `${TEAMS_CONFIG.length} √©quipes (devrait √™tre 8)`);
        }

        // R√©sum√©
        const allChecks = checksDiv.querySelectorAll('.check-item');
        const okCount = checksDiv.querySelectorAll('.check-item.ok').length;
        const errorCount = checksDiv.querySelectorAll('.check-item.error').length;

        const summary = document.createElement('div');
        summary.style.cssText = 'background: #e8f5e9; padding: 15px; margin-top: 20px; border-radius: 8px; border: 2px solid #4caf50;';
        summary.innerHTML = `
            <strong>üìä R√©sum√©:</strong><br>
            ‚úì ${okCount} v√©rifications r√©ussies<br>
            ${errorCount > 0 ? `‚ùå ${errorCount} erreurs d√©tect√©es` : '‚úÖ Aucune erreur'}
        `;
        checksDiv.parentElement.insertBefore(summary, checksDiv);
    </script>
</body>
</html>

